\section{Related Work}
\label{sec:related}

\mvf{TODO: Ether}

\mvf{TODO: nEther}

\mvf{TODO: CPU Errata~\cite{thompson}}

Several efforts has been made on how relative difference in execution time of
two instructions could be used to detect a virtualized
environment~\cite{raffetseder2007, thompson}. Using absolute time differences is
not feasible, as architectures are complex and different, but the relative
difference is more predictable. Comparing one instruction that is known not to
be trapped by the VMM and one that is, for instance {\tt NOP} and {\tt CPUID}
the authors showed that different VMMs showed significantly different ratios
compared to bare metal.

Ferrie {et al.} showed in 2007 how~\cite{ferrie2007} context switches between an
VMM and guest could be used to detect hypervisors based on Intel VT-x though the
flushing of the Translation Lookaside Buffer (TLB). Using a non-privileged
instruction that is still trapped by the VMM, i.e. {\tt CPUID}, will cause a
flush of the TLB. This could be detected through timing the instruction before
and after anticipated flush. This method has later been documented by other
authors~\cite{thompson}.
\mvf{Maybe not relevant with use of ASID? (doesn't flush TLB)}

Using dynamic analysis to disable detection routines~\cite{kang2009}.

Using remote detector machine~\cite{franklin2008}.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:
